using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using ITGnanConsole.IQ.Models;
using Newtonsoft.Json;
using static System.Runtime.InteropServices.JavaScript.JSType;

namespace ITGnanConsole.IQ
{
    public class ReadDataFromJson
    {
        public void ReadListFromJson()
        {
            string json = "{   \"name\": \"AccountUi\",   \"published\": \"20250521T15:58:02\",   \"spiritAccountBenefit\": [     {       \"name\": \"baseMemberBenefit\",       \"title\": {         \"type\": \"string\",         \"text\": \"MY BENEFITS\"       },       \"benefit\": [         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn & Redeem Points w/Partners\"           },           \"icon\": {             \"type\": \"string\",             \"text\": \"NOT IN USE\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"4\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Redeem Points on Travel on Spirit\"           },           \"icon\": {             \"type\": \"string\",             \"text\": \"NOT IN USE\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"3\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn 12x Points on Bags, Seats and Options\"           },           \"icon\": {             \"type\": \"string\",             \"text\": \"NOT IN USE\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"2\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn 6x Points on Fares\"           },           \"icon\": {             \"type\": \"string\",             \"text\": \"NOT IN USE\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"1\"           }         }       ]     },     {       \"name\": \"silverMemberBenefit\",       \"title\": {         \"type\": \"string\",         \"text\": \"MY SILVER BENEFITS\"       },       \"benefit\": [         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Shortcut Security\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"10\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Priority Check-In at participating airports\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"9\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Dedicated Guest Care\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"8\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Same-day Standby\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"7\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Host a Points Pool\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"6\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free Exit Row Upgrade within 3 hours of departure\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"5\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Space Available Upgrade\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"4\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free Seat Selection during Check-In\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"3\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn 16x Points on Bags, Seats and Options\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"2\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn 8x Points on Fares\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"1\"           }         }       ]     },     {       \"name\": \"goldMemberBenefit\",       \"title\": {         \"type\": \"string\",         \"text\": \"MY GOLD BENEFITS\"       },       \"benefit\": [         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Shortcut Security\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"14\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Wi-Fi Streaming (Subject to Availability)\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"13\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Priority Check-In at participating airports\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"12\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Dedicated Guest Care\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"11\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Same-day Standby\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"10\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Host a Points Pool\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"9\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free Pet-in-Cabin\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"8\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free inflight Drink (incl. alcohol) & Snack\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"7\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free Seat Selection\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"6\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free Seat Selection\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"5\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Space Available Upgrade\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"4\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Free 1st Checked Bag + Carry-On\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"3\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn 20x Points on Bags, Seats and Options\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"2\"           }         },         {           \"name\": \"majorList\",           \"text\": {             \"type\": \"string\",             \"text\": \"Earn 10x Points on Fares\"           },           \"icon\": {             \"type\": \"string\"           },           \"sortOrder\": {             \"type\": \"string\",             \"text\": \"1\"           }         }       ]     }   ] }";

            SpritObject spritObject = JsonConvert.DeserializeObject<SpritObject>(json);

            var benefits = spritObject.spiritAccountBenefit
           .FirstOrDefault(x => x.name == "baseMemberBenefit")?.benefit;

            var s= benefits.OrderBy(b => int.Parse(b.sortOrder.text)).Select(b => b.text.text).ToList();

            if (benefits != null)
            {
                foreach (var benefit in benefits)
                {
                    Console.WriteLine($"Text: {benefit.text}, SortOrder: {benefit.sortOrder}");
                }
            }
        }
    }
}